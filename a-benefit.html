<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./res/ibk-com.css">
        <script src="./res/jquery-3.6.4.min.js"></script>
        <script src="./res/lottie.min.js"></script>
        <script src="./res/ibk-com.js"></script>
        <title>혜택</title>

        <!-- css style -->
        <style>
            /* bottom_nav */
            .bottom_nav{width: 100%;}

            .top_menu{background:#FFFFFF}
            .top_menu .svg_wrap{display:flex;position:absolute;top:12px;right:48px;z-index:50;}
            .content-1{position:relative;padding:20px 0 36px;overflow:hidden;z-index:10;}
            .content-1::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background:url("./images/A/benefit/linearBg.png") 0 0 / 100%;z-index:-1;}
            .content-1 .myPoints{padding:0 20px 44px 20px;}
            .content-1 .myPoints .pointNumb{position:absolute;top:57px;font-size:33px;font-weight:700;line-height:39px;color:#1D74E8;}
            .content-1 .myPoints .shadow_box{margin-top:28px;box-shadow:0px 0px 12px 0px rgba(0, 0, 0, 0.08);border-radius:12px;}
            .content-1 .event_content{margin-left:20px;animation: slideInFromRight .8s ease-out;}
            @keyframes slideInFromRight {
                0% {transform: translateX(100%);opacity: 0;}
                100% {transform: translateX(0);opacity: 1;}
            }
            .content-2{padding:36px 20px;background:#616DED;}
            .content-3{padding:36px 20px;background:#ECF4FF;}
            .content-4{padding-top:36px;background:#fff;}
            /* 팝업 */
            .dim{position:fixed;top:0;left:50%;width:376px;height:100%;transform:translateX(-50%);z-index: 101;background-color:#03030399; display: none; }
            .dim img{position:absolute;bottom:0;width:309px;left:50%;transform:translateX(-50%);transition:.6s all;}
            .dim .quick_bar{bottom:-120px;transform-origin:center;transform:translateX(-50%)rotateZ(0deg);opacity:0; }
            .dim .quick_bar.on{animation:quick_bar_on 0.6s forwards;}
            .dim .quick_bar.off{animation:quick_bar_off 0.6s forwards;opacity: 1}
            .dim .quick_icon{width:0;transform-origin: top;}
            .dim .quick_icon.on{ animation:quick_icon_on 0.3s 0.4s ease-in forwards;}
            .dim .quick_icon.off{animation:quick_icon_off 0.1s ease-in forwards;}
            @keyframes quick_bar_on{0%{width: 0px;}100%{width:309px;transform:translateX(-50%)rotateZ(360deg);bottom:-120px;opacity:1;}}
            @keyframes quick_bar_off{100%{transform:translateX(-50%)rotateZ(-120deg);bottom:-120px;opacity:0;}}
            @keyframes quick_icon_on{100%{width:80px; opacity:1;}}
            @keyframes quick_icon_off{0%{width:80px;}100%{width:0px;opacity:0;}}
        </style> 
        <!-- // css style -->
        
    </head>
    <body>
        <div class="container">
            <div class="top_menu">
                <img src="./images/A/benefit/gnb_sub.png" alt="">
                <div class="svg_wrap">
                    <div id="alram" style="width:28px;height:28px;margin-right:16px;"></div>
                    <div id="wallet" style="width:28px;height:28px;margin-right:16px;" onclick="drPopupOpenTwo('.dim')"></div>
                </div> 
            </div>
            <!-- contents --> 
            <div class="contents">
                <div class="content-1">
                    <div class="myPoints">
                        <img src="./images/A/benefit/myPoints01.png" style="width:172px;height:99px">
                        <div class="pointNumb" data-count="23450" data-delay="300">23,450<span class="one">P</span></div>
                        <img class="shadow_box" src="./images/A/benefit/myPoints02.png">
                    </div>
                    <img class="event_content" src="./images/A/benefit/eventCont.png">
                </div>
                <div class="content-2">
                    <img class="" src="./images/A/benefit/gameCont.png">
                </div>
                <div class="content-3">
                    <img src="./images/A/benefit/missionCont.png">
                </div>
                <div class="content-4">
                    <img src="./images/A/benefit/allBenefits01.png" style="padding-left:20px;">
                    <img src="./images/A/benefit/allBenefits02.png" style="padding:24px 20px 231px 20px">
                </div>
            </div>
            <!-- // contents -->
            <div class="bottom_nav">
                <ul>
                    <li>
                        <a id="home" href="./a-main.html">
                            <i aria-label="홈 탭" class="home"></i>
                            <span>홈</span>
                        </a>
                    </li>
                    <li>
                        <a href="./a-asset.html">
                            <i aria-label="자산 탭" class="asset"></i>
                            <span>자산</span>
                        </a>
                    </li>
                    <li>
                        <a href="./a-product.html">
                            <i aria-label="상품 탭" class="goods"></i>
                            <span>상품 </span>
                        </a>
                    </li>
                    <li>
                        <a href="./a-benefit.html">
                            <i aria-label="혜택 탭" class="benefit on"></i>
                            <span>혜택</span>
                        </a>
                    </li>
                    <li>
                        <a href="#none">
                            <i aria-label="투자 탭" class="invest"></i>
                            <span>투자</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </body> 
    <script>
        // 로띠
        const lottieAni1 = bodymovin.loadAnimation({
            container : document.getElementById('alram'),
            renderer : 'svg',
            loop : false,
            autoplay : true,
            path: './images/alram.json' 
        })
        const lottieAni2 = bodymovin.loadAnimation({
            container : document.getElementById('wallet'),
            renderer : 'svg',
            loop : false,
            autoplay : true,
            path: './images/wallet2_black.json' 
        })
        const lottieAni3 = bodymovin.loadAnimation({
            container : document.getElementById('button'),
            renderer : 'svg',
            loop : true,
            autoplay : true,
            path: './images/button.json' 
        })

        // 월렛 팝업
        function drPopupOpenTwo(popName){
            $('body').css('overflow','hidden');
            $('.dim').css('display','block');
            $(popName).css('display','block')
            $(popName).stop().animate({ scrollTop: 0 }, 300);
            $(".quick_bar, .quick_icon").addClass('on').removeClass('off')
        }

        function drPopupCloseTwo(pop){
            $('body').css('overflow','auto');
            $(".quick_bar, .quick_icon").addClass('off').removeClass('on')
            setTimeout(function(){
                $('.dim').css('display','none');
            },500)

        }

        //숫자 카운트 애니메이션
        function count() {
            $('.pointNumb').each(function() {
            const   $this = $(this),
                    countTo = $this.attr('data-count');
                    countDelay = $this.attr('data-delay'),
                    delaySeconds = parseInt(countDelay) || 0; 
                    setTimeout(function() {
                        $({
                            countNum: $this.text()
                        }).animate({
                            countNum: countTo
                        }, {
                            duration: 500,
                            easing: 'linear',
                            step: function() {
                                $this.text(Math.floor(this.countNum));
                            },
                            complete: function() {
                                $this.text(this.countNum.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',')).append('<span class="one">P</span>');
                            }
                        });
                    }, delaySeconds); 

                });
        }
        count();
    </script>
</html>